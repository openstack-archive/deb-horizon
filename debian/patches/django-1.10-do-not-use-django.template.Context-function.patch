Description: [Django 1.10] Do not use django.template.Context()
 See:
  https://docs.djangoproject.com/en/1.10/ref/templates/upgrading/
 section:
  get_template() and select_template()
Author: Thomas Goirand <zigo@debian.org>
Forwarded: no
Last-Update: 2016-07-21

Index: horizon/horizon/forms/fields.py
===================================================================
--- horizon.orig/horizon/forms/fields.py
+++ horizon/horizon/forms/fields.py
@@ -24,7 +24,6 @@ from django.core import urlresolvers
 from django.forms import fields
 from django.forms.utils import flatatt  # noqa
 from django.forms import widgets
-from django.template import Context  # noqa
 from django.template.loader import get_template  # noqa
 from django.utils.encoding import force_text
 from django.utils.functional import Promise  # noqa
@@ -261,14 +260,14 @@ class ThemableSelectWidget(SelectWidget)
         id = attrs.pop('id', 'id_%s' % name)
 
         template = get_template('horizon/common/fields/_themable_select.html')
-        context = Context({
+        context = {
             'name': name,
             'options': new_choices,
             'id': id,
             'value': value,
             'initial_value': initial_value,
             'select_attrs': attrs,
-        })
+        }
         return template.render(context)
 
 
Index: horizon/horizon/test/tests/templatetags.py
===================================================================
--- horizon.orig/horizon/test/tests/templatetags.py
+++ horizon/horizon/test/tests/templatetags.py
@@ -19,7 +19,6 @@
 import re
 
 from django.conf import settings
-from django.template import Context  # noqa
 from django.template import Template  # noqa
 from django.utils.text import normalize_newlines  # noqa
 
@@ -48,7 +47,7 @@ class TemplateTagTests(test.TestCase):
         context = context or {}
         template = Template("{%% load %s %%} %s"
                             % (tag_require, template_text))
-        return template.render(Context(context))
+        return template.render(context)
 
     def test_site_branding_tag(self):
         """Test if site_branding tag renders the correct setting."""
Index: horizon/openstack_dashboard/management/commands/make_web_conf.py
===================================================================
--- horizon.orig/openstack_dashboard/management/commands/make_web_conf.py
+++ horizon/openstack_dashboard/management/commands/make_web_conf.py
@@ -22,7 +22,7 @@ import warnings
 
 from django.conf import settings
 from django.core.management.base import BaseCommand  # noqa
-from django.template import Context, Template  # noqa
+from django.template import Template  # noqa
 
 # Suppress DeprecationWarnings which clutter the output to the point of
 # rendering it unreadable.
@@ -65,7 +65,7 @@ def _getattr(obj, name, default):
         return default
 
 
-context = Context({
+context = {
     'DJANGO_SETTINGS_MODULE': os.environ['DJANGO_SETTINGS_MODULE'],
     'HOSTNAME': socket.getfqdn(),
     'PROJECT_PATH': os.path.realpath(
@@ -75,7 +75,7 @@ context = Context({
     'SSLCERT': '/etc/pki/tls/certs/ca.crt',
     'SSLKEY': '/etc/pki/tls/private/ca.key',
     'CACERT': None,
-})
+}
 
 context['PROJECT_ROOT'] = os.path.dirname(context['PROJECT_PATH'])
 context['PROJECT_DIR_NAME'] = os.path.basename(
